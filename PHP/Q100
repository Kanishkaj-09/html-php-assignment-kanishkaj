Using PHP, construct a program to restrict the user from uploading the same file again and again.
If the same file already exists in that folder, display an appropriate error message.

CODE:
<?php
// Define target directory
$target_dir = "uploads/";

// Create directory if it does not exist
if (!is_dir($target_dir)) {
    mkdir($target_dir, 0777, true);
}

if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $file_name = basename($_FILES["fileToUpload"]["name"]);
    $target_file = $target_dir . $file_name;

    // Check if file already exists
    if (file_exists($target_file)) {
        echo "<p style='color:red;'>‚ùå Error: The file '". htmlspecialchars($file_name) ."' already exists. Please upload a different file.</p>";
    } else {
        // Move uploaded file to target directory
        if (move_uploaded_file($_FILES["fileToUpload"]["tmp_name"], $target_file)) {
            echo "<p style='color:green;'> Success: The file '". htmlspecialchars($file_name) ."' has been uploaded successfully.</p>";
        } else {
            echo "<p style='color:red;'>Error: There was a problem uploading your file.</p>";
        }
    }
}
?>

<!DOCTYPE html>
<html>
<head>
    <title>Restrict Duplicate File Upload</title>
</head>
<body>
    <h2>Upload a File</h2>
    <form method="post" enctype="multipart/form-data">
        <input type="file" name="fileToUpload" required>
        <input type="submit" value="Upload">
    </form>
</body>
</html>
